.layout {
  display: grid;
  grid-template-columns: 1fr 20fr 1fr;
  grid-template-rows: 100vh min-content 200px;
  grid-template-areas:
    "header      header        header"
    ".      diagram             ."
    ".      footer        .";

  @mixin atSmall {
    display: grid;
    grid-template-columns: 1fr 20fr 1fr;
    grid-template-rows: min-content min-content 200px;
    grid-template-areas:
      ".      header        ."
      ".      diagram             ."
      ".      footer        .";
  }

  @mixin atMedium {
    @mixin supportsGrid {
      display: grid;
      grid-template-columns: 1fr 10fr 1fr;
      grid-template-rows: min-content min-content 20vmax;
      grid-template-areas:
        ".      header        ."
        ".      diagram             ."
        ".      footer        .";
    }
  }

  @mixin atLarge {
    @mixin supportsGrid {
      display: grid;
      grid-template-columns: 1fr 10fr 1fr;
      grid-template-rows: min-content min-content min-content;
      grid-template-areas:
        ". header        ."
        ".      diagram             ."
        ".      footer        .";
    }
  }

  @mixin atXLarge {
    @mixin supportsGrid {
      display: grid;
      grid-template-columns: 1fr 10fr 1fr;
      grid-template-rows: min-content min-content 20vh;
      grid-template-areas:
        ". header        ."
        ".      diagram             ."
        ".      footer        .";
    }
  }

  @mixin atULarge {
    @mixin supportsGrid {
      display: grid;
      grid-template-columns: 1fr 10fr 1fr;
      grid-template-rows: repeat(3, min-content);
      grid-template-areas:
        ". header        ."
        ".      diagram             ."
        ".      footer        .";
    }
  }

  &__overlay {
    mix-blend-mode: overlay;

    &--header {
      /* mix-blend-mode: normal; */
      z-index: 30;
      @mixin supportsGrid {
        grid-area: header;
      }
    }
    
    &--diagram {
      /* mix-blend-mode: normal; */
      z-index: 20;
      @mixin supportsGrid {
        grid-area: diagram;
      }
    }

    &--footer {
      /* mix-blend-mode: normal; */
      z-index: 30;
      @mixin supportsGrid {
        grid-area: footer;
      }
    }    
  }
}
